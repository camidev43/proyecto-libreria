.contenedor_base {
  display: flex;
  flex-direction: column;
  gap: var(--gaps-2);
  width: 100%;
}

.ancho_total {
  width: 100%;
}

.deshabilitado {
  opacity: 0.6;
  pointer-events: none;
}

.envoltorio_input {
  background: var(--base);
  border: 1px solid var(--surface-third);
  border-radius: var(--radius-3);
  overflow: hidden;
  transition: all 0.2s var(--ease-2);
}

.invalido .envoltorio_input {
  border-color: var(--system-error-color) !important;
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--system-error-color) 12%, transparent) !important;
}

.fila_header {
  align-items: flex-end;
  display: flex;
  gap: var(--gaps-3);
  justify-content: space-between;
  min-block-size: 32px;
}

.etiqueta {
  color: var(--color-secondary-text);
  flex-shrink: 1;
  font-size: var(--label);
  font-weight: var(--font-semibold);
  line-height: var(--font-lineheight-3);
  min-inline-size: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  user-select: none;
  white-space: nowrap;
}

.marca_requerido {
  color: var(--system-error-color);
}

.grupo_derecha {
  align-items: center;
  display: flex;
  flex-shrink: 0;
  gap: var(--gaps-2);
}

.badges_contenedor {
  align-items: flex-end;
  display: flex;
  gap: var(--gaps-2);
  min-inline-size: 0;
}

.botones_acciones {
  align-items: center;
  display: flex;
  flex-shrink: 0;
  gap: var(--gaps-1);
}

.variante_default .envoltorio_input {
  background: var(--base);
}

.variante_faded .envoltorio_input {
  background: var(--theme-faded-bg);
  border-color: transparent;
  box-shadow: none;
}

.envoltorio_input:hover {
  border-color: var(--surface-fourth);
}

.enfocado .envoltorio_input {
  border-color: var(--brand-5);
  box-shadow: 0 0 0 3px color-mix(in srgb, var(--brand-5) 12%, transparent);
  outline: none;
}

.variante_faded .envoltorio_input:hover {
  background: var(--surface-second);
}

.variante_faded.enfocado .envoltorio_input {
  background: var(--base);
}

.entrada {
  background: transparent;
  border: 0;
  color: var(--color-primary-text);
  font-family: inherit;
  font-size: var(--paragraph);
  line-height: var(--font-lineheight-6);
  min-block-size: 96px;
  outline: none;
  padding: var(--gaps-3) var(--gaps-3);
  resize: none;
  width: 100%;
}

.entrada::placeholder {
  color: var(--color-placeholder);
}

.sin_autosize {
  resize: vertical;
}

.tam_sm .entrada {
  font-size: calc(var(--paragraph) * 0.9);
  min-block-size: 72px;
  padding: var(--gaps-2) var(--gaps-3);
}

.tam_md .entrada {
  font-size: var(--paragraph);
  min-block-size: 96px;
  padding: var(--gaps-3) var(--gaps-3);
}

.tam_lg .entrada {
  font-size: calc(var(--paragraph) * 1.1);
  min-block-size: 120px;
  padding: var(--gaps-3) var(--gaps-4);
}

.boton_accion,
.boton_limpiar {
  align-items: center;
  appearance: none;
  background: var(--surface-second);
  border: 1px solid var(--surface-third);
  border-radius: var(--radius-2);
  color: var(--color-secondary-text);
  cursor: pointer;
  display: inline-flex;
  flex-shrink: 0;
  font-size: var(--label);
  gap: var(--gaps-1);
  justify-content: center;
  line-height: 1;
  padding: var(--gaps-2) var(--gaps-2);
  transition: all 0.15s var(--ease-2);
}

.boton_accion:disabled {
  cursor: not-allowed;
  opacity: 0.4;
}

.boton_accion:hover:not(:disabled),
.boton_limpiar:hover {
  background: var(--surface-third);
  border-color: var(--surface-fourth);
}

.boton_activo {
  background: linear-gradient(180deg, var(--brand-2), var(--brand-3));
  border-color: var(--brand-5);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--brand-5) 20%, transparent);
  color: var(--brand-8);
  position: relative;
}

.boton_activo::after {
  animation: haloAzul 1.2s var(--ease-out-2) infinite;
  border-radius: inherit;
  box-shadow: 0 0 0 0 color-mix(in srgb, var(--brand-5) 26%, transparent);
  content: '';
  inset: -4px;
  pointer-events: none;
  position: absolute;
  z-index: -1;
}

.boton_activo_mic {
  background: transparent;
  border-color: var(--system-error-color);
  box-shadow: 0 0 0 2px color-mix(in srgb, var(--system-error-color) 20%, transparent);
  color: var(--system-error-color);
  position: relative;
}

.boton_activo_mic::after {
  animation: haloRojo 1.2s var(--ease-out-2) infinite;
  border-radius: inherit;
  box-shadow: 0 0 0 0 color-mix(in srgb, var(--system-error-color) 22%, transparent);
  content: '';
  inset: -4px;
  pointer-events: none;
  position: absolute;
  z-index: -1;
}

@keyframes haloAzul {
  0% {
    box-shadow: 0 0 0 0 color-mix(in srgb, var(--brand-5) 22%, transparent);
  }

  70% {
    box-shadow: 0 0 0 10px transparent;
  }

  100% {
    box-shadow: 0 0 0 0 transparent;
  }
}

@keyframes haloRojo {
  0% {
    box-shadow: 0 0 0 0 color-mix(in srgb, var(--system-error-color) 18%, transparent);
  }

  70% {
    box-shadow: 0 0 0 10px transparent;
  }

  100% {
    box-shadow: 0 0 0 0 transparent;
  }
}

.descripcion {
  color: var(--color-secondary-text);
  font-size: var(--label);
  line-height: var(--font-lineheight-3);
}

.mensaje_error {
  color: var(--system-error-color);
  font-size: var(--label);
  line-height: var(--font-lineheight-3);
}

.sin_animacion * {
  animation: none !important;
  transition: none !important;
}

@media (width <= 640px) {
  .fila_header {
    flex-wrap: wrap;
    gap: var(--gaps-2);
  }

  .grupo_derecha {
    flex-wrap: wrap;
    inline-size: 100%;
  }

  .badges_contenedor {
    inline-size: 100%;
    order: 2;
  }

  .botones_acciones {
    order: 1;
  }
}

@media (prefers-reduced-motion: reduce) {
  .boton_activo::after,
  .boton_activo_mic::after {
    animation: none !important;
  }
}
